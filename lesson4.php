<?php
// ＜アルゴリズムの注意点＞
// アルゴリズムではこれまでのように調べる力ではなく物事を論理的に考える力が必要です。
// 検索して答えを探して解いても考える力には繋がりません。
// まずは検索に頼らずに自分で処理手順を考えてみましょう。


// 以下は自動販売機のお釣りを計算するプログラムです。
// 150円のお茶を購入した際のお釣りを計算して表示してください。
// 計算内容は関数に記述し、関数を呼び出して結果表示すること
// $yen と $product の金額を変更して計算が合っているか検証を行うこと

// 表示例1）
// 10000円札で購入した場合、
// 10000円札x0枚、5000円札x1枚、1000円札x4枚、500円玉x1枚、100円玉x3枚、50円玉x1枚、10円玉x0枚、5円玉x0枚、1円玉x0枚

// 表示例2）
// 100円玉で購入した場合、
// 50円足りません。

$yen = 10000;   // 購入金額
$product = 150; // 商品金額

function calc($yen, $product) {
    // この関数内に処理を記述
    if($yen>$product){ //お釣りがでるパターン
        $yen =$yen-$product;
        for($n=0; $yen-$n*10000>=0; $n++){ //１万円
            $a = $n; //最終的な枚数
        }
        $yen = $yen-$a*10000; //同額でお釣りを出したときの残金

        for($n=0; $yen-$n*5000>=0; $n++){
            $b = $n;
        }
        $yen = $yen-$b*5000;

        for($n=0; $yen-$n*1000>=0; $n++){
            $c = $n;
        }
        $yen = $yen-$c*1000;

        for($n=0; $yen-$n*500>=0; $n++){
            $d = $n;
        }
        $yen = $yen-$d*500;

        for($n=0; $yen-$n*100>=0; $n++){
            $e = $n;
        }
        $yen = $yen-$e*100;

        for($n=0; $yen-$n*50>=0; $n++){
            $f = $n;
        }
        $yen = $yen-$f*50;

        for($n=0; $yen-$n*10>=0; $n++){
            $g = $n;
        }
        $yen = $yen-$g*10;

        for($n=0; $yen-$n*5>=0; $n++){
            $h = $n;
        }
        $yen = $yen-$h*5;

        //$yen=0のとき、これまでと同じようにforを使うとエラー
        if($yen==0){
            return "10000円札x{$a}枚、5000円札x{$b}枚、1000円札x{$c}枚、500円玉x{$d}枚、100円玉x{$e}枚、50円玉x{$f}枚、10円玉x{$g}枚、5円玉x{$h}枚、1円玉x0枚";
        }else{
            $i=$yen/1;
            return "10000円札x{$a}枚、5000円札x{$b}枚、1000円札x{$c}枚、500円玉x{$d}枚、100円玉x{$e}枚、50円玉x{$f}枚、10円玉x{$g}枚、5円玉x{$h}枚、1円玉x{$i}枚";
        }

       
    }elseif($yen == $product){ //ちょうどの支払い
        return "お釣りはありません。";
    }else{
        $z = $product - $yen; //足りないとき
        return "{$z}円足りません。";
    }
}
?>
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>お釣り</title>
</head>
<body>
    <section>
        <!-- ここに結果表示 -->
        <?php 
            echo calc(10000, 150); 
        ?>
    </section>
</body>
</html>

<!--

//forを使った
　→値がなくなるとエラーを起こす
    for($n=0; $yen-$n*10000>=0; $n++){ //１万円
            $a = $n; //最終的な枚数
        }
        $yen = $yen-$a*10000; //同額でお釣りを出したときの残金

        for($n=0; $yen-$n*5000>=0; $n++){
            $b = $n;
        }
        $yen = $yen-$b*5000;

        for($n=0; $yen-$n*1000>=0; $n++){
            $c = $n;
        }
        $yen = $yen-$c*1000;

        for($n=0; $yen-$n*500>=0; $n++){
            $d = $n;
        }
        $yen = $yen-$d*500;

        for($n=0; $yen-$n*100>=0; $n++){
            $e = $n;
        }
        $yen = $yen-$e*100;

        for($n=0; $yen-$n*50>=0; $n++){
            $f = $n;
        }
        $yen = $yen-$f*50;

        for($n=0; $yen-$n*10>=0; $n++){
            $g = $n;
        }
        $yen = $yen-$g*10;

        for($n=0; $yen-$n*5>=0; $n++){
            $h = $n;
        }
        $yen = $yen-$f*5;

        if($yen==0){
            return "10000円札x{$a}枚、5000円札x{$b}枚、1000円札x{$c}枚、500円玉x{$d}枚、100円玉x{$e}枚、50円玉x{$f}枚、10円玉x{$g}枚、5円玉x{$h}枚、1円玉x0枚";
        }else{
            for($n=0; $yen-$n*1>=0; $n++){
            $o = $n;
            }
            return "10000円札x{$a}枚、5000円札x{$b}枚、1000円札x{$c}枚、500円玉x{$d}枚、100円玉x{$e}枚、50円玉x{$f}枚、10円玉x{$g}枚、5円玉x{$h}枚、1円玉x{$o}枚";
        }
        


        for($n=0; $yen == $n*1; $n++){
            $i = $n;
        }
        return "10000円札x{$a}枚、5000円札x{$b}枚、1000円札x{$c}枚、500円玉x{$d}枚、100円玉x{$e}枚、50円玉x{$f}枚、10円玉x{$g}枚、5円玉x{$h}枚、1円玉x{$i}枚";
  

         if($yen==0){
            return "10000円札x{$a}枚、5000円札x{$b}枚、1000円札x{$c}枚、500円玉x{$d}枚、100円玉x{$e}枚、50円玉x{$f}枚、10円玉x{$g}枚、5円玉x{$h}枚、1円玉x0枚";
        }else{
            $i=$yen/1;
            return "10000円札x{$a}枚、5000円札x{$b}枚、1000円札x{$c}枚、500円玉x{$d}枚、100円玉x{$e}枚、50円玉x{$f}枚、10円玉x{$g}枚、5円玉x{$h}枚、1円玉x{$i}枚";
        }

-->